<div class="page">
  <header class="header">
    <div class="header__logo"><img src="assets/adorsys.svg" alt="adorsys logo"/></div>
    <div class="header__title">Sandbox</div>
  </header>

  <div class="container container--big">
    <h1 class="description description__title">Developer Portal</h1>
    <section>
      <h2>Technical Description</h2>
      <p>
        PSD2 instructs banks to provide a fully productive XS2A interface till September 2019.
        In order to guarantee the compliance of this deadline due to adaptions and bugs, PSD2
        claims the banks to provide a functional sandbox offering the XS2A services in a
        non-productive environment.
      </p>
      <p>
        As a main component we provide the XS2A interface which meets the requirements of the
        <a href="https://www.berlin-group.org/nextgenpsd2-downloads">Berlin Group</a> in Version
        1.2. All requests towards the interface are happening within a non-productive sandbox
        environment which is offering the full functionality based on prepared test data.
        The interface itself consists of banking services to initiate payments (PIS), request
        account data (AIS) and get a confirmation of the availability of funds (PIIS). All
        appropriate features like the Strong Customer Authentication (SCA) and the management of
        consents are directly embedded in this sandbox environment.
      </p>
      <p>
        Besides the actual interface, we provide the possibility to authenticate Payment Service
        Providers (PSP) using eIDAS Certificates. Those certificates usually get issued by
        appropriate Trust Service Providers (TSP) which are working in cooperation with the National
        Competent Authority (NCA).
        Issuing a real certificate just for testing purposes would be a bit too much effort, which
        is why we are simulating a fictional TSP issuing Qualified Website Authentication
        Certificates (QWAC) here: <a routerLink="/certificate-service">Certificate Service</a>.
        A QWAC is part of eIDAS and might be better known as X.509 certificate. For PSD2-purposes
        the certificate gets extended by the QcStatement containing appropriate values such as the
        role(s) of the PSP.
      </p>
      <p>
        In order to become compliant to the PSD2, technical documentation of the XS2A interface
        must
        be provided free of charge. You can visit our documentation here <a
          href="../swagger-ui.html">XS2A Swagger UI</a>.
      </p>
      <p class="description description__intro">Configuration of XS2A:</p>
      <p>Currently the sandbox environment is configured as follows:</p>
      <ul>
        <li>TSP: The generation of client certificates works without registration</li>
        <li>Payment-Product: Sepa-credit-transfers</li>
        <li>Payment-Service: Single-payments</li>
        <li>SCA-Approach: Embedded</li>
      </ul>
    </section>

    <section>
      <h2>Getting started</h2>
      <p>In order to test the services of XS2A you need to execute the following steps:</p>
      <p class="description description__intro">Register/Login</p>
      <p>User registration/Login is coming soon.</p>
      <p class="description description__intro">Generate Certificate</p>
      <p>To generate a QWAC Certificate follow this link <a
          routerLink="/certificate-service">Certificate Service UI</a> and embed the .pem file in
        the response header "tpp-qwac-certficate" (see example cURL below).
      </p>
      <p class="description description__intro">Fictional PSU Data</p>
      <p>To execute services of XS2A, you have to use the following PSU credentials</p>
      <ul>
        <li>Login: testuser</li>
        <li>Password: 12345</li>
        <li>IBAN: DE15500105172295759744</li>
        <li>TAN: 54321</li>
      </ul>
      <p>A full set of PSU data will be provided soon.</p>

      <p class="description description__intro">Execute XS2A Calls</p>
      <p>To execute XS2A calls follow this link
        <a href="../swagger-ui.html">XS2A Swagger UI</a>.</p>
      <p>The following code snippet is an example cURL command which is initiating a single payment:
      </p>
      <pre>
          <code>
          $ curl -v "http://localhost:8080/v1/payments/sepa-credit-transfers"
            -H "accept: application/json"
            -H "X-Request-ID: 99391c7e-ad88-49ec-a2ad-99ddcb1f7721"
            -H "Tpp-Qwac-Certificate: #Insert base64 encoded certificate#"
            -H "PSU-IP-Address: 192.168.8.78"
            -H "Content-Type: application/json"
            -d '{{ '{' }}
              "endToEndIdentification": "WBG-123456789",
              "debtorAccount": {{ '{' }}
                "currency": "EUR",
                "iban": "DE52500105173911841934"
              {{ '}' }},
              "instructedAmount": {{ '{' }}
                "currency": "EUR",
                "amount": "520.00"
              {{ '}' }},
              "creditorAccount":{{ '{' }}
                "currency": "EUR",
                "iban": "DE15500105172295759744"
              {{ '}' }},
              "creditorAgent": "AAAADEBBXXX",
              "creditorName": "WBG",
              "creditorAddress": {{ '{' }}
                "buildingNumber": "56",
                "city": "Nürnberg",
                "country": "DE",
                "postalCode": "90543",
                "street": "WBG Straße"
              {{ '}' }},
              "remittanceInformationUnstructured": "Ref. Number WBG-1222"
            {{ '}' }}'
            </code>
         </pre>
    </section>
  </div>
</div>

